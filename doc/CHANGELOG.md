# 更新日志

## [2.0.1] - 2020-03-04

### 变更

* 将原有的串口程序，变更为新的串口程序

## [2.0.2] - 2020-03-05

### 修复

* 修复了无法正常识别从终端节点发来的数据（当主机为协调器，收到的frame ID=0x91时）
* 当终端节点向协调器发送数据时，协调器接收到的91帧数据中的Receive options为41（匹配ID数据标识码）或42（广播数据标识码）
* 当协调器向终端节点发送数据时，收到的为01（匹配ID数据标识码）或02（广播数据标识码）
* 在xbee_rx.cpp中添加了0x91的数据包确认判断条件ZB_PACKET_ACKNOWLEDGED_FROM_TERMINAL与ZB_BROADCAST_PACKET_FROM_TERMINAL

* TODO：暂未测试0x90的确认包是否也遵循以上情况

### 优化

* 优化了串口代码和xbeeTx的函数封装
* 引出了xbeeTx中原有的默认64位地址接口

## [2.0.3] - 2020-03-06

### 优化

* 继续优化了串口代码和整体代码的衔接

## [2.0.4] - 2020-03-09

### 修复

* 修复了接收数据时，一直打印00的问题
* 原因：判断串口read函数返回值时出错，现已改为debug调试，打印timeout

* 修复了开发板接收数据时，无法正确的打印接收信息
* 原因：开发版的xbee模块AO模式未置为1（置0接收到90帧，置1接收到91帧）

* TODO：至于为什么接收到90帧数据时打印接收信息出错，待日后查看

## [2.0.5] - 2020-03-10

### 修复

* 修复昨天90帧数据打印出错问题
* 原因：以91帧对象为初始版本编写打印代码，直接复制到90帧处，并未更改为90帧的对象（粗心大意）




## [3.0.0] - 2020-04-22

### 变更

* 主RTU采集井口线程，单独运行，并存入数据库
* 接收上位机的modbus TCP数据，转为modbus RTU数据，发给井口，并将返回的数据发给上位机

## [3.0.0] - 2020-04-23

### 新增

* 新增了对井口通讯线程和与上位机通讯线程的单独处理的函数体，优化了代码，减少了累赘

################## 以下为模板 ########################

## [10.10.10] - 2020-02-02

### 变更

### 修复

### 新增

### 优化

### 已删除